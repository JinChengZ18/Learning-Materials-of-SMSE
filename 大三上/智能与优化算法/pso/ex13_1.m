clear all
clc
N = 40% N初始化群体个体数目
c1= 1.2 % c1学习因子1
c2= 2.2 % c2学习因子6
w = 0.6 % w惯性权重
M = 100 % M最大迭代次数
D = 1 % D搜索空间维数


x = unifrnd (0,10,1,1) %zeros(1,10);
[xm,fv,xn,yn]=PSO(@fitness,40,1.2,2.2,0.6,20,1);%fitness,N,c1,c2,w,M,D

%给出计算结果
disp('*************************************************');
disp('目标函数取最小值时的自变量：');
xm
disp('目标函数的最小值为：')
fv
disp('**************************************************');


n = 0:(size(yn,2)-1);
figure(1) % 绘制函数曲线及所拟合的最优解、最优值
fplot(@(x)-11.*sin(7.*x)+7.*cos(3.*x)-5.*sin(6.*x),[-1 11])
hold on
plot(xn,-yn,'r*')
hold off
figure(2) % 绘制各世代的最优值
plot(n,yn)
